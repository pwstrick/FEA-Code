<!DOCTYPE html>
<html>
<head>
	<title>6.3-535</title>
</head>
<body>
	<script>
		function insertSort(arr) {
		  var tmp;
		  //间接已经将数组分成了2部分，下标小于当前的（左边的）是排序好的序列
		  for (var i = 1, len = arr.length; i < len; i++) {
			//获得当前需要比较的元素值
			tmp = arr[i];
			//内层循环，控制比较并插入
			for (var j = i - 1; j >= 0; j--) {
			  if (tmp < arr[j]) {
				arr[j + 1] = arr[j];
				arr[j] = tmp;
			  } else {
				break;
			  }
			}
		  }
		  return arr;
		}

		var arr = [20, 0, 39, 66, 40, 78, 46, 36, 60, 100],
		  txt = "";
		for (var k in arr) {
		  txt += arr[k] + " ";
		}
		console.log("排序前：", txt);
		arr = insertSort(arr);
		txt = "";
		for (k in arr) {
		  txt += arr[k] + " ";
		}
		console.log("排序后：", txt);
		
		function insertSort2(arr) {
			var key, left, right, middle;
			for (var i = 1; i < arr.length; i++) {
				key = arr[i];
				left = 0;
				right = i - 1;
				while (left <= right) {
					middle = Math.floor((left + right) / 2);
					if (key < arr[middle]) {
						right = middle - 1;
					} else {
						left = middle + 1;
					}
				}
				for (var j = i - 1; j >= left; j--) {
					arr[j + 1] = arr[j];
				}
				arr[left] = key;
			}
			return arr;
		}
		
		var arr = [20, 0, 39, 66, 40, 78, 46, 36, 60, 100],
		  txt = "";
		for (var k in arr) {
		  txt += arr[k] + " ";
		}
		console.log("排序前：", txt);
		arr = insertSort2(arr);
		txt = "";
		for (k in arr) {
		  txt += arr[k] + " ";
		}
		console.log("排序后：", txt);
		
	</script>
</body>
</html>